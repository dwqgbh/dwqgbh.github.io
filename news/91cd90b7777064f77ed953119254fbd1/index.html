<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content=""/>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="./../../themes/halo_quickstarter/source/images/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="./../../themes/halo_quickstarter/source/plug/css.css">
	<link rel="stylesheet" href="./../../themes/halo_quickstarter/source/css/kico.css"/>
	<link rel="stylesheet" href="./../../themes/halo_quickstarter/source/css/hingle.css"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
	<script type="text/javascript" src="./../../themes/halo_quickstarter/source/js/jquery.min.js"></script>
	<script type="text/javascript" src="./../../themes/halo_quickstarter/source/js/js.js"></script>
	<script type="text/javascript" src="./../../themes/halo_quickstarter/source/js/Top.js"></script>
	<script type="text/javascript" src="./../../themes/halo_quickstarter/source/js/time.js"></script>
	<script type="text/javascript" src="./../../themes/halo_quickstarter/source/js/count.js"></script>
	<!--script type="text/javascript" src="//api.html5media.info/1.2.2/html5media.min.js"></script-->
	<script type="text/javascript" id="wow"></script> 
	<script>
		$(function(){
			$(".li5").click(function() {
				$("html,body").animate({scrollTop:0}, 1000);
			});
		})
	</script>
    <meta name="generator" content="Halo 1.5.4"/>
    

    <meta name="referrer" content="never"><title>工业机器人抓取时如何定位 展会快讯</title>
</head>
<!--##单页模块##-->
<body style="background-color: #ffffff">

<!--##pagetop##-->
<div class="header">
	<div class=" juzhong hidden-xs por DingBu" style="background-image:url(./../../upload/images/PcHead.jpg);background-color: #ced3d6;">
	</div>
</div>
<div id="nav-bar" class="clearfix">



	<div class="M-Nav" id="logo"> 
		<a href="#" class="Logo visible-xs"><img src="./../../upload/images/PhoneHead.jpg" alt="2023大湾区工博会- DMP大湾区工业博览会-深圳工博会"></a> 
	</div>
	<a href="javascript:;" class="M-Nav-btn"><div id="ToIndex"></div></a>
	<a href="./../../../../../../.."  class="M-Nav-btn"><div id="ToIndex02"></div></a>
	<div id="nav">
			<ul>
			<li><a href="./../../index.html" target="_self">首页</a>
			</li>
			<li><a href="./../91cd90b7777064f77ed953119254fbd1####/index.html" target="_self">关于展会</a>
			 <div class='nav-down-list'>
				 <ul>
					<li><a href="./../../s/exhibition-summary/index.html" target="_self">展会介绍</a></li>
					<li><a href="./../../s/exhibition-hall/index.html" target="_self">展馆介绍</a></li>
					<li><a href="./../../s/中部工博会/index.html" target="_self">南昌工博会</a></li>
					<li><a href="./../../s/福州工博会/index.html" target="_self">福州工博会</a></li>
					<li><a href="./../../api/DMP香港工博会2023.pdf" target="_blank">香港工博会</a></li>
					<li><a href="/xt/cn/" target="_blank">展会展期</a></li>
				</ul>
			</div>
			</li>
			<li><a href="./../91cd90b7777064f77ed953119254fbd1####/index.html" target="_self">参展商</a>
			 <div class='nav-down-list'>
				 <ul>
					<li><a href="./../../categories/brand/index.html" target="_self">品牌榜</a></li>
					<li><a href="https://admin.dwqgbh.cn/nav/guestbook.htm" target="_self">展位申请</a></li>
				</ul>
			</div>
			</li>
			<li><a href="./../../categories/index.html" target="_self">新闻中心</a>
			 <div class='nav-down-list'>
				 <ul>
					<li><a href="./../../categories/message/index.html" target="_self">信息发布</a></li>
					<li><a href="./../../media/index.html" target="_self">媒体聚焦</a></li>
					<li><a href="./../index.html" target="_self">展会快讯</a></li>
					<li><a href="//tech.dwqgbh.cn/news/" target="_self">科技前沿资讯</a></li>
				</ul>
			</div>
			</li>
			<li><a href="./../../s/about/index.html" target="_self">关于我们</a>
			</li>
			<li><a href="./../91cd90b7777064f77ed953119254fbd1####/index.html" target="_self">联系我们</a>
			 <div class='nav-down-list'>
				 <ul>
					<li><a href="https://admin.dwqgbh.cn/nav/guestbook.htm" target="_self">展位申请</a></li>
					<li><a href="./../../s/individual/index.html" target="_self">观众报名</a></li>
					<li><a href="./../../../../../../.." target="_self">✆137-6147-0961</a></li>
					<li><a href="mailto:1301150027@qq.com" target="_self">1301150027@qq.com</a></li>
				</ul>
			</div>
			</li>
			</ul>
	</div>


</div>
<div class="nav-bar-height visible-xs"></div>


<main>
    <div class="wrap min">
               
    <h2 style="text-align:center">工业机器人抓取时如何定位 </h2>
   <p style="text-align:center">工业机器人  2021-05-14</p>
   <article class="post-content">
   
    
            <section data-mpa-powered-by="yiban.io"><span/></section><p><span>从机器视觉的角度，由简入繁从相机标定，平面物体检测、有纹理物体、无纹理物体、深度学习、与任务/运动规划结合等6个方面深度解析文章的标题。</span></p><p><br/><span>首先，我们要了解，机器人领域的视觉（Machine Vision）跟计算机领域（Computer Vision）的视觉有一些不同：机器视觉的目的是</span><span><strong>给机器人提供操作物体的信息</strong></span><span>。所以，机器视觉的研究大概有这几块：<br/><br/>1. <strong>物体识别</strong>（Object Recognition）：在图像中检测到物体类型等，这跟 CV 的研究有很大一部分交叉；<br/>2. <strong>位姿估计</strong>（Pose Estimation）：计算出物体在摄像机坐标系下的位置和姿态，对于机器人而言，需要抓取东西，不仅要知道这是什么，也需要知道它具体在哪里；<br/>3. <strong>相机标定</strong>（Camera Calibration）：因为上面做的只是计算了物体在相机坐标系下的坐标，我们还需要确定相机跟机器人的相对位置和姿态，这样才可以将物体位姿转换到机器人位姿。</span></p><p><span><br/>当然，我这里主要是在物体抓取领域的机器视觉；SLAM 等其他领域的就先不讲了。<br/></span><span>由于视觉是机器人感知的一块很重要内容，所以研究也非常多了，我就我了解的一些，按照由简入繁的顺序介绍吧。</span></p><p><span><br/></span><span><strong>一. 相机标定</strong><br/><br/>这其实属于比较成熟的领域。由于我们所有物体识别都只是计算物体在相机坐标系下的位姿，但是，机器人操作物体需要知道物体在机器人坐标系下的位姿。所以，我们先需要对相机的位姿进行标定。<br/><br/>内参标定就不说了，参照张正友的论文，或者各种标定工具箱；<br/><br/>外参标定的话，根据相机安装位置，有两种方式：<br/><br/></span></p><p><img data-ratio="0.5319148936170213" data-type="png" data-w="705" height="375" width="705" data-src="https://mmbiz.qpic.cn/mmbiz_png/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZUtRhvpJ4tIgzqicibw4FK6Dr26ne2j66DpfEoyvJs6Qia1p3nmVbHO7BQ/640?wx_fmt=png" class="src" src="./../../static/load.gif"/></p><p><br/><br/></p><ul><li><p>Eye to Hand：相机与机器人极坐标系固连，不随机械臂运动而运动</p></li><li><p>Eye in Hand：相机固连在机械臂上，随机械臂运动而运动</p></li></ul><p><br/><span>两种方式的求解思路都类似，首先是眼在手外（Eye to Hand）<br/><br/></span></p><p><img data-ratio="0.4375" data-type="jpeg" data-w="720" height="315" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZEx62iaFsMHUZ3baNy2Rf4SfSLicCJTryKibNndBC0v7HGpQfXicOU0Ig7g/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>只需在机械臂末端固定一个棋盘格，在相机视野内运动几个姿态。由于相机可以计算出棋盘格相对于相机坐标系的位姿A_i 、机器人运动学正解可以计算出机器人底座到末端抓手之间的位姿变化E_i 、而末端爪手与棋盘格的位姿相对固定不变。<br/><br/>这样，我们就可以得到一个坐标系环 CX=XD<br/><br/>这种结构的求解有很多方法，我这边给出一个<strong>参考文献：</strong><br/><br/><strong>Shiu, Yiu Cheung, and Shaheen Ahmad. "Calibration of wrist-mounted robotic sensors by solving homogeneous transform equations of the form AX= XB."ieee Transactions on Robotics and Automation 5.1 (1989): 16-29.</strong><br/></span><span>而对于眼在手上（Eye in Hand）的情况，也类似，在地上随便放一个棋盘格（与机器人基座固连），然后让机械臂带着相机走几个位姿，然后也可以形成一个AX=XB 的坐标环。<br/><br/></span></p><p><img data-ratio="0.8014059753954306" data-type="jpeg" data-w="569" height="456" width="569" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZUtAfTmRaZzpj8368BSIARm4yBnv6aczvkU67yp3iaRx6yWHwmfJPo1w/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/><br/><br type="_moz"/><span> </span></p><p><span><strong>二． 平面物体检测<br/></strong><br/>这是目前工业流水线上最常见的场景。目前来看，这一领域对视觉的要求是：快速、精确、稳定。所以，一般是采用最简单的<strong>边缘提取+边缘匹配/形状匹配的方法</strong>；而且，为了提高稳定性、一般会通过主要打光源、采用反差大的背景等手段，减少系统变量。<br/><br/></span></p><p><img data-ratio="0.48194444444444445" data-type="jpeg" data-w="720" height="347" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZA8J0S5rfDL0FnOF5YIuUUiaFkpDlAN83dUVttWx8zxZsY1qzRSrOEFA/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>目前，很多智能相机（如 cognex）都直接内嵌了这些功能；而且，物体一般都是放置在一个平面上，相机只需计算物体的(x,y,θ)T 三自由度位姿即可。<br/><br/>另外，这种应用场景一般都是用于处理一种特定工件，相当于只有位姿估计，而没有物体识别。<br/></span><span>当然，工业上追求稳定性无可厚非，但是随着生产自动化的要求越来越高，以及服务类机器人的兴起。对更复杂物体的完整位姿(x,y,z,rx,ry,rz)T 估计也就成了机器视觉的研究热点。<br/><br/></span></p><p><img data-ratio="0.3" data-type="jpeg" data-w="720" height="216" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZlEL8EcDQicNsBcNp1PU1uWX8hDeXEbfRPWLIGOna85BkaakY4iafecTw/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><br/><span><strong>三．有纹理的物体</strong><br/><br/>机器人视觉领域是最早开始研究有纹理的物体的，如饮料瓶、零食盒等表面带有丰富纹理的都属于这一类。<br/><br/>当然，这些物体也还是可以用类似边缘提取+模板匹配的方法。但是，实际机器人操作过程中，环境会<strong>更加复杂</strong>：光照条件不确定（光照）、物体距离相机距离不确定（尺度）、相机看物体的角度不确定（旋转、仿射）、甚至是被其他物体遮挡（遮挡）。<br/><br/></span></p><p><img data-ratio="0.6694444444444444" data-type="jpeg" data-w="720" height="482" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1Z55YvqAiaSCHgscX99f7TU4ciaBPYGhMeWgQZcJ1Fbdia3UejImN2wia6HA/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>幸好有一位叫做 Lowe 的大神，提出了一个叫做 SIFT （Scale-invariant feature transform）的<strong>超强局部特征点</strong>：<br/><br/><strong>Lowe, David G. "Distinctive image features from scale-invariant keypoints."International journal of computer vision 60.2 (2004): 91-110.</strong><br/><br/>具体原理可以看上面这篇被引用 4万+ 的论文或各种博客，简单地说，这个方法提取的特征点只跟物体表面的某部分纹理有关，与光照变化、尺度变化、仿射变换、整个物体无关。<br/><br/>因此，利用 SIFT 特征点，可以直接在相机图像中寻找到与数据库中相同的特征点，这样，就可以确定相机中的物体是什么东西<strong>（物体识别）</strong>。<br/><br/></span></p><p><img data-ratio="0.49166666666666664" data-type="jpeg" data-w="720" height="354" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZUrq43dceV25iaCZjdMYTwxz1PjsxeBv74gkiab2YFhVp9q3andiaLITAQ/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>对于不会变形的物体，特征点在物体坐标系下的位置是固定的。所以，我们在获取若干点对之后，就可以直接求解出相机中物体与数据库中物体之间的单应性矩阵。<br/><br/>如果我们用深度相机（如Kinect）或者双目视觉方法，确定出每个特征点的 3D 位置。那么，直接求解这个 PnP 问题，就可以计算出物体在当前相机坐标系下的位姿。<br/><br/></span></p><p><img data-ratio="0.3472222222222222" data-type="jpeg" data-w="720" height="250" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1Z4Eic3JgoWUlFM8HjnBC1IkL47JHcP35g7dUicvolsa3bDLSEXk6E5t1g/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>↑ 这里就放一个实验室之前毕业师兄的成果</span></p><p><br/><span>当然，实际操作过程中还是有很多细节工作才可以让它真正可用的，如：先利用点云分割和欧氏距离去除背景的影响、选用特征比较稳定的物体（有时候 SIFT 也会变化）、利用贝叶斯方法加速匹配等。<br/><br/>而且，除了 SIFT 之外，后来又出了一大堆类似的特征点，如 SURF、ORB 等。<br/><strong><br/>四． 无纹理的物体</strong><br/><br/>好了，有问题的物体容易解决，那么生活中或者工业里还有很多物体是没有纹理的：<br/><br/></span></p><p><img data-ratio="0.35833333333333334" data-type="jpeg" data-w="720" height="258" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZHuzNSSoWLx8DyNnzmIBRvUxWyULhFlKyicWAGVcqruY8dBwGJss6L7A/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>我们最容易想到的就是：是否有一种特征点，可以描述物体形状，同时具有跟 SIFT 相似的不变性？<br/><br/>不幸的是，据我了解，目前没有这种特征点。<br/><br/>所以，之前一大类方法还是采用基于<strong>模板匹配</strong>的办法，但是，对匹配的特征进行了专门选择（不只是边缘等简单特征）。<br/><br/>这里，我介绍<strong>一个我们实验室之前使用和重现过的算法 LineMod：</strong><br/><br/><strong>Hinterstoisser, Stefan, et al. "Multimodal templates for real-time detection of texture-less objects in heavily cluttered scenes." Computer Vision (ICCV), 2011 IEEE International Conference on. IEEE, 2011.</strong><br/><br/></span></p><p><img data-ratio="0.407108239095315" data-type="jpeg" data-w="619" height="252" width="619" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZBJ1LjIxdWg7H86BRZuXqZUx3OxXem7vSufVMuheVwIG0F6TbS8GQIA/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>简单而言，这篇论文同时利用了<strong>彩色图像的图像梯度</strong>和<strong>深度图像的表面法向作为</strong>特征，与数据库中的模板进行匹配。<br/><br/>由于数据库中的模板是从一个物体的多个视角拍摄后生成的，所以这样匹配得到的物体位姿只能算是初步估计，并不精确。<br/><br/>但是，只要有了这个初步估计的物体位姿，我们就可以直接采用 ICP 算法<span>（Iterative closest point）</span>匹配物体模型与 3D 点云，从而得到物体在相机坐标系下的精确位姿。<br/><br/></span></p><p><img data-ratio="0.75" data-type="jpeg" data-w="640" height="480" width="640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1Z3q68d3S8hbr91HyeYWpfVZyFNBzPU7KavON2iau2mzciaG2ORUR9uDag/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>当然，这个算法在具体实施过程中还是有很多细节的：如何建立模板、颜色梯度的表示等。另外，这种方法无法应对物体被遮挡的情况。（当然，通过降低匹配阈值，可以应对部分遮挡，但是会造成误识别）。<br/><br/>针对部分遮挡的情况，我们实验室的张博士去年对 LineMod 进行了改进，但由于论文尚未发表，所以就先不过多涉及了。<br/><br/><strong>五．深度学习</strong><br/><br/>由于深度学习在计算机视觉领域得到了非常好的效果，我们做机器人的自然也会尝试把 DL 用到机器人的物体识别中。<br/><br/>首先，对于物体识别，这个就可以照搬 DL 的研究成果了，各种 CNN 拿过来用就好了。在 2016 年的『亚马逊抓取大赛』中，很多队伍都采用了 DL 作为物体识别算法。<br/><br/>然而， 在这个比赛中，虽然很多人采用 DL 进行物体识别，但在物体位姿估计方面都还是使用比较简单、或者传统的算法。似乎并未广泛采用 DL。如 <span>周博磊</span> 所说，一般是采用 semantic segmentation network 在彩色图像上进行物体分割，之后，将分割出的部分点云与物体 3D 模型进行 ICP 匹配。<br/><br/>当然，直接用神经网络做位姿估计的工作也是有的，如这篇：<br/><br/><strong>Doumanoglou, Andreas, et al. "Recovering 6d object pose and predicting next-best-view in the crowd." Proceedings of the IEEE Conference on Computer Vision and Pattern Recognition. 2016.</strong><br/><br/></span></p><p><img data-ratio="0.3236111111111111" data-type="jpeg" data-w="720" height="233" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZFcU8C0ibYxIcwyDNicRMAoy10nemmNWW2arJ1xBmK0iad1ULAy48UObKg/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><span>它的方法大概是这样：对于一个物体，取很多小块 RGB-D 数据（只关心一个patch，用局部特征可以应对遮挡）；每小块有一个坐标（相对于物体坐标系）；然后，首先用一个自编码器对数据进行降维；之后，用将降维后的特征用于训练Hough Forest。<br/><br/></span></p><p><img data-ratio="0.30277777777777776" data-type="jpeg" data-w="720" height="218" width="720" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/u7SibXtIDerocUkFriaCsoHbZ3aoHb4p1ZicGxdzAFrxOd5PbCrRNXXGUQvm1DuJOqGmDBicPsH94ZQTQRZBBc0rdA/640?wx_fmt=jpeg" class="src" src="./../../static/load.gif"/></p><p><br/><br/><strong><span>六. 与任务/运动规划结合</span></strong><span><br/><br/>这部分也是比较有意思的研究内容，由于机器视觉的目的是给机器人操作物体提供信息，所以，并不限于相机中的物体识别与定位，往往需要跟机器人的其他模块相结合。<br/></span><span/><span><br/></span></p><p><br/><span>我们让机器人从冰箱中拿一瓶『雪碧』，但是这个 『雪碧』 被『美年达』挡住了。<br/>我们人类的做法是这样的：先把 『美年达』 移开，再去取 『雪碧』 。<br/><br/>所以，对于机器人来说，它需要先通过视觉确定雪碧在『美年达』后面，同时，还需要确定『美年达』这个东西是可以移开的，而不是冰箱门之类固定不可拿开的物体。<br/></span></p><p><span>当然，将视觉跟机器人结合后，会引出其他很多好玩的新东西。由于不是我自己的研究方向，所以也就不再班门弄斧了。</span></p><p><br/></p><p><span>免责声明：</span><span>本文系网络转载，版权归原作者所有。</span><span>但因转载众多，无法确认真正原始作者，故仅标明转载来源。</span><span>本文所用视频、图片、文字如涉及作品版权问题，请第一时间告知，我们将根据您提供的证明材料确认版权并按国家标准支付稿酬或立即删除内容！</span><span>本文内容为原作者观点，并不代表本公众号赞同其观点和对其真实性负责。</span></p>
           
        
         </article>
   <script type="text/javascript" src="./../../nav/jquery.lazyload.src.js"></script>
   <script type="text/javascript" charset="utf-8">
  $(function() {
      $("img.src").lazyload({ placeholder : "./../../static/load.gif",effect: "fadeIn"});
  });
</script>

    </div>
</main>



    <div class="footer" style="background-color: #ced3d6">

            <div class="w80 juzhong">
                <img class="wybf" src="./../../upload/images/footzhuban.png" style="width: 100%;z-index:99">
              <img class="sjbf" src="./../../upload/images/footzhuban1.png" style="width: 100%;z-index:99">
                    <p class="wybf" style="color: black" class="footer-copytxt">COPYRIGHT <a href="https://beian.miit.gov.cn/"  target="_blank">沪ICP备16029818号-1</a> GBAIE Co., Ltd. All right reserved  <br/>备案号：<a href="http://beian.miit.gov.cn/" target="_blank"><span style="color:black">沪ICP备16029818号-3</span></a>
                    </p>
                    <p class="sjbf" style="color: black;padding-top: 30px;text-align: center;clear: both;width: 90%;padding-left: 30px;" class="footer-copytxt"><a href="https://beian.miit.gov.cn/"  target="_blank">沪ICP备16029818号-3</a> COPYRIGHT <a href="https://beian.miit.gov.cn/"  target="_blank">沪ICP备16029818号-1</a> GBAIE Co., Ltd. All right reserved <br>
                    </p>
            </div>
	</div> 
    
    
<!-- 实现PC端右侧界面侧边栏 -->
    <ul id="scrollSearchDiv" class="rightline wybf" >
    <!--二维码图片div-->
        <li class="li2" ></li>
        <li class="li1" ></li>
        <div class="flex wybf"></div>
    <style type="text/css">
    	.li4::before {
          content:'\e612';
          font-size: 27px;
    	}
    </style>

        <div class="flex1 wybf">

        </div>
        <!--<li class="li4"></li>
        <div class="flex2 wybf"></div>-->
        <li class="li5"></li>
    </ul>
</body>
</html>